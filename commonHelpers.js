import{S as h,a as L,i as p}from"./assets/vendor-89feecc5.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const b=document.querySelector(".form"),l=document.querySelector(".gallery"),m=document.querySelector(".load-more"),C=document.querySelector(".loader"),w="https://pixabay.com/api/?",y="41838849-75d2e43a80bdb544c2e4afc3a",E={key:y,q:"",image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40};let i=1,c="";const F=new h(".gallery a",{captionsData:"alt",captionDelay:250,close:!0,enableKeyboard:!0,docClose:!0}),g=t=>{C.style.display=t?"block":"none"},d=t=>{m.style.display=t?"block":"none"},x=t=>{const s=document.createDocumentFragment();t.forEach(r=>{const a=document.createElement("li");a.classList.add("gallery-item");const e=document.createElement("a");e.href=r.largeImageURL;const o=document.createElement("img");o.classList.add("gallery-img"),o.src=r.webformatURL,o.alt=r.tags;const n=document.createElement("div");n.classList.add("gallery-text-box"),n.innerHTML=`
      <p>Likes: <span class="text-value">${r.likes}</span></p>
      <p>Views: <span class="text-value">${r.views}</span></p>
      <p>Comments: <span class="text-value">${r.comments}</span></p>
      <p>Downloads: <span class="text-value">${r.downloads}</span></p>
    `,e.appendChild(o),a.appendChild(e),a.appendChild(n),s.appendChild(a)}),l.appendChild(s),F.refresh()};b.addEventListener("submit",async t=>{if(t.preventDefault(),g(!0),c=encodeURIComponent(t.target.elements.search.value.trim()),c===""){console.error("Please enter a valid search query.");return}i=1,await f(c,i),t.currentTarget.reset()});m.addEventListener("click",async()=>{d(!1),i++,await f(c,i)});const v=()=>{const t=document.querySelector(".gallery-item");return t?t.getBoundingClientRect().height:0},S=()=>{const t=v();t>0?window.scrollBy({top:t*2,behavior:"smooth"}):console.warn("Gallery card not found. Sorry, you can`t scroll.")},u=()=>{p.info({position:"topRight",messageColor:"#FFFFFF",backgroundColor:"#36B3D9",titleSize:"8px",closeOnEscape:!0,message:"We're sorry, but you've reached the end of search results."})},f=async(t,s)=>{try{const r=await L.get(w,{params:{q:t,page:s,per_page:E.per_page,key:y}}),{hits:a,totalHits:e}=r.data;!a||a.length===0?s===1?(p.error({position:"topRight",messageColor:"#FFFFFF",backgroundColor:"#EF4040",titleSize:"8px",closeOnEscape:!0,message:"Sorry, there are no images matching your search query. Please try again!"}),l.innerHTML=""):u():(s===1&&(l.innerHTML=""),x(a),e&&l.childElementCount>=e?(d(!1),u()):(d(!0),S()))}catch(r){console.error(r.message)}finally{g(!1)}};
//# sourceMappingURL=commonHelpers.js.map

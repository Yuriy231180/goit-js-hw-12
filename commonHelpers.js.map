{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\n\nconst api = axios.create({\n    baseUrl: \"https://pixabay.com/api/?\",\n    params: {\n    apiKey: \"41838849-75d2e43a80bdb544c2e4afc3a\",\n    lenguage: \"en\"\n    }\n});\n\nconst form = document.querySelector('.form');\nconst imagesGallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('button[data-action=\"load-more\"]');\nconst loader = document.querySelector('.loader');\n\n// const BASE_URL = 'https://pixabay.com/api/?';\n// const API_KEY = '41838849-75d2e43a80bdb544c2e4afc3a';\n\nconst searchParamsDefault = {\n  key: API_KEY,\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  close: true,\n  enableKeyboard: true,\n  docClose: true,\n});\n\nconst showLoader = state => {\n  loader.style.display = state ? 'block' : 'none';\n};\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  showLoader(true);\n  searchParamsDefault.q = encodeURIComponent(\n    event.target.elements.search.value.trim()\n  );\n  if (searchParamsDefault.q === '') {\n    console.error('Please enter a valid search query.');\n    return;\n  }\n  const searchParams = new URLSearchParams(searchParamsDefault);\n  await getImages(searchParams);\n  event.currentTarget.reset();\n});\n\nconst getImages = async params => {\n  showLoader(true);\n  try {\n    const response = await axios.get(BASE_URL + `${params}`);\n    const { hits } = response.data;\n\n    imagesGallery.innerHTML = '';\n    if (hits.length === 0) {\n      iziToast.error({\n        position: 'topRight',\n        messageColor: '#FFFFFF',\n        backgroundColor: '#EF4040',\n        titleSize: '8px',\n        closeOnEscape: true,\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      imagesGallery.innerHTML = hits.reduce(\n        (html, image) =>\n          html +\n          `\n                  <li class=\"gallery-item\">\n                      <a href=${image.largeImageURL}> \n                          <img class=\"gallery-img\" src=${image.webformatURL} alt=${image.tags}/>\n                      </a>\n                      <div class=\"gallery-text-box\">\n                          <p>Likes: <span class=\"text-value\">${image.likes}</span></p>\n                          <p>Views: <span class=\"text-value\">${image.views}</span></p>\n                          <p>Comments: <span class=\"text-value\">${image.comments}</span></p>\n                          <p>Downloads: <span class=\"text-value\">${image.downloads}</span></p>\n                      </div>\n                  </li>\n              `,\n        ''\n      );\n      lightbox.refresh();\n    }\n  } catch (error) {\n    console.error(error.message);\n  } finally {\n    showLoader(false);\n  }\n};"],"names":["axios","form","imagesGallery","loader","searchParamsDefault","lightbox","SimpleLightbox","showLoader","state","event","searchParams","getImages","params","response","hits","iziToast","html","image","error"],"mappings":"owBAOYA,EAAM,OAAO,CACrB,QAAS,4BACT,OAAQ,CACR,OAAQ,qCACR,SAAU,IACT,CACL,CAAC,EAED,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAgB,SAAS,cAAc,UAAU,EACnC,SAAS,cAAc,iCAAiC,EAC5E,MAAMC,EAAS,SAAS,cAAc,SAAS,EAKzCC,EAAsB,CAC1B,IAAK,QACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,MAAO,GACP,eAAgB,GAChB,SAAU,EACZ,CAAC,EAEKC,EAAaC,GAAS,CAC1BL,EAAO,MAAM,QAAUK,EAAQ,QAAU,MAC3C,EAEAP,EAAK,iBAAiB,SAAU,MAAMQ,GAAS,CAM7C,GALAA,EAAM,eAAc,EACpBF,EAAW,EAAI,EACfH,EAAoB,EAAI,mBACtBK,EAAM,OAAO,SAAS,OAAO,MAAM,KAAM,CAC7C,EACML,EAAoB,IAAM,GAAI,CAChC,QAAQ,MAAM,oCAAoC,EAClD,MACD,CACD,MAAMM,EAAe,IAAI,gBAAgBN,CAAmB,EAC5D,MAAMO,EAAUD,CAAY,EAC5BD,EAAM,cAAc,OACtB,CAAC,EAED,MAAME,EAAY,MAAMC,GAAU,CAChCL,EAAW,EAAI,EACf,GAAI,CACF,MAAMM,EAAW,MAAMb,EAAM,IAAI,SAAW,GAAGY,GAAQ,EACjD,CAAE,KAAAE,CAAI,EAAKD,EAAS,KAE1BX,EAAc,UAAY,GACtBY,EAAK,SAAW,EAClBC,EAAS,MAAM,CACb,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,UAAW,MACX,cAAe,GACf,QACE,0EACV,CAAO,GAEDb,EAAc,UAAYY,EAAK,OAC7B,CAACE,EAAMC,IACLD,EACA;AAAA;AAAA,gCAEsBC,EAAM;AAAA,yDACmBA,EAAM,oBAAoBA,EAAM;AAAA;AAAA;AAAA,+DAG1BA,EAAM;AAAA,+DACNA,EAAM;AAAA,kEACHA,EAAM;AAAA,mEACLA,EAAM;AAAA;AAAA;AAAA,gBAIjE,EACR,EACMZ,EAAS,QAAO,EAEnB,OAAQa,EAAP,CACA,QAAQ,MAAMA,EAAM,OAAO,CAC/B,QAAY,CACRX,EAAW,EAAK,CACjB,CACH"}